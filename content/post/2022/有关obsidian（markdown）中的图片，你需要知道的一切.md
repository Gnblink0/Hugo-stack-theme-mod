+++
author = "关念"
title = "有关Markdown中的图片，你需要知道的一切"
date = "2022-03-05"
description = "Obsidian使用场景下的Markdown图片设定与操作"
categories = [
    "工具"
]
tags = [
    "生产力",
    "方法论",
    "obsidian"
]
image = "https://s2.loli.net/2022/03/05/cgXDSvRQGK6T1WB.jpg"

+++

我一直觉得「图片」是理解markdown格式的一个艰难之处，因为它的图片逻辑和我们平时接触的图片逻辑都不一样，我一开始也完全不理解，花了挺久才搞懂而且逐渐习惯。所以这篇文章基本是把我走过的弯路总结出来，以便大家对markdown中的图片直接理解和上手，避免产生困惑浪费时间。

所以如果你正在使用markdown，而且对它的图片设定抱有疑惑，比如：为什么我的图片是一个单独的page？为什么不能直接长按保存图片？为什么不能直接编辑图片？我要怎么修改图片大小？这篇文章应该能一次性解决你的很多疑惑。

现在每次回头看自己磕磕绊绊摸爬滚打的经历和逻辑也会觉得很蠢，自己折腾了很久自以为恍然大悟，其实后来一搜发现图床托管md中的图片早已是被探索得很完善的一种方法了。

但没办法，毕竟路都是人用脚一步一步走出来的， 就算有什么先辈遗产也得自己先走起来才能找到。

![我12月份的时候也还是这个状态 笑](https://s2.loli.net/2022/03/03/DiCYbJh74qG9Oxo.png)



## 弱图文排版特质

首先，鱼与熊掌不可兼得。markdown格式的优点在于忽略排版专注内容、大小极小清爽方便；而弱点就是**不擅长图文排版**，因为所有的图片在markdown格式中都是以**链接**（link）的形式**嵌入**（embed）文本中的，逻辑和网页链接、笔记链接没有区别。

所以在markdown里完全可以插入图片以实现最基本的图片显示功能，但是如果想实现像word或者微信公众号里一样的丰富图文排版……几乎是不可能的，除非打很多插件疯狂折腾，但我觉得应该把合适的使用场景留给合适的工具，没有必要魔改强求，如果你有很高的图文排版要求，markdown并不是适合你的文本格式。



---



关于markdown格式的进一步介绍：

[Markdown 入门基础 | Markdown 官方教程](https://markdown.com.cn/intro.html)

[MarkDown超级教程 by 成雙醬 - Obsidian中文教程 - Obsidian Publish](https://publish.obsidian.md/chinesehelp/01+2021%E6%96%B0%E6%95%99%E7%A8%8B/MarkDown%E8%B6%85%E7%BA%A7%E6%95%99%E7%A8%8B+by+%E6%88%90%E9%9B%99%E9%86%AC)

[为什么用Markdown，而不用Word？ - 知乎](https://zhuanlan.zhihu.com/p/86516807)



## 两种储存图片方式

首先介绍一个概念：

`!` （英文感叹号）在markdown中的意思是「渲染」， page、图片、pdf链接都可以通过前加 `!` 直接渲染。

渲染的意思是「可以直接显示内容而不是标题」；如果去掉 `!`，则只会显示标题，鼠标悬停在上面才可以看见内容（即不渲染）。

---



然后，Markdown之中有两种储存图片的方式。
### 本地储存（internal embeds）

![本地储存图片的格式与效果](https://s2.loli.net/2022/03/05/j9qiAQfdGWObMDK.png)

图片以png、jpg、gif等图片格式直接存在你的本地硬盘（也就是你的 obsidian vault中）

格式为： `![[图片名称.格式后缀]]` 

当你直接把图片拖入或者粘贴到obsidian，obsidian会自动使用这个方式在本地创建一个图片page，可以修改该界面的名字，但是不能修改后缀和格式，也不能往该界面内加任何其他内容（其实本质上就是ob把图片存到了本地且读取后用page形式呈现了）。



### 外链渲染（external embeds）

![外链渲染图片的格式与效果](https://s2.loli.net/2022/03/05/swz4xPeSoyp2QBc.png)

像渲染外部网页一样直接渲染外链

格式和渲染网页完全一致，即： `![图片名称 /可以为空](图片链接)`

这样，图片不仅不会占用你的本地储存空间，而且如果你要把markdown里的图片上传到网络，可以直接使用该链接而无需任何额外更改和上传，任何网站都可以成功读取渲染这张图片。



### 取舍

这两者并无优劣之分，它们的优缺点是相反且互补的。

本地储存非常安全、不怕丢失，但是一张图片如果只在一处用一次，没必要一直占用本地空间；

外链不占用本地空间，方便在互联网直接传播，但是链接一旦失效图片就丢失了。

下面会介绍以**外链为主**的**两种方法的互补和转换**。



## 图床
本地图片是没有网络链接的，要把本地图片转成一个随处可以读取的链接，就要用到图床。

### 什么是图床？

图床就是给图片提供一个容身之处。

平时，你的图片栖息在你的硬盘中，如果你想把图片分享到网络上，就必须要找到一个平台托管你的图片、赋予你一个代表该图的网络链接，然后以这个链接为基础才可以把图片共享到全互联网。

其实你平时用的微博、朋友圈，都在帮你托管着图片，只是这仅仅是它们的一个附带功能，所以你并不会把它们看成是图床。而图床网站就是专门帮你托管图片、提供图片链接的网站。

关于主流图床的选择：[分享8个高速稳定的图床网站 - 简书](https://www.jianshu.com/p/c35091dcba84) [markdown图床 - 简书](https://www.jianshu.com/p/ea1eb11db63f)

好吧第三方毕竟不稳，其实我还是比较建议用Github做图床，如何实现请看下文PicGo中的[配置手册](https://picgo.github.io/PicGo-Doc/zh/guide/config.html#%E5%9B%BE%E5%BA%8A%E5%8C%BA)

### 自动化图床

现在我们有了图床，问题是，如果每次使用图片都需要**手动操作**（复制图片、粘贴图片、打开网站、点击上传、复制链接、粘贴链接）也太麻烦了。

好在计算机工具的最大特点就是让人类可以通过脚本从重复劳动中解放出来。

请看神器：PicGo （[Github下载地址](https://github.com/Molunerfinn/PicGo)、[帮助文档](https://picgo.github.io/PicGo-Doc/) 、[配置手册](https://picgo.github.io/PicGo-Doc/zh/guide/config.html#%E5%9B%BE%E5%BA%8A%E5%8C%BA)）

PicGo正是如此一个集合各大图床的脚本工具，它可以帮你把图床操作简化到**图片上传、获取链接**两步。

### Obsidian与图床联动

没错，两步还不是最简单的，还有更简单的一步操作，你甚至不用上传图片只要复制粘贴就行了！

请看神器：ob插件—— Image auto upload Plugin（[Github下载地址](https://github.com/renmu123/obsidian-image-auto-upload-plugin)；你也可以在官方插件社区中直接搜索名字下载）

只要你完成了PicGo的设置可以正常使用，直接下载这个插件就可以做到「直接粘贴/拖入图片→自动上传到图床→返回外链显示」，究极丝滑全自动化操作完全实现！<img src="https://media.cmx.edu.kg/cache/custom_emojis/images/000/129/022/original/c05485f442d4f70c.png" alt=":ablobcall:" style="zoom:25%;" />

### 图床转本地

没错，居然还没圆满结束结束，谁还记得我开头说的是以外链为主的两种方法的互补和转换……

图床转本地也是用插件实现的——Local Images（[Github下载地址](https://github.com/aleksey-rezvov/obsidian-local-images)），可以实现单页或全库的图床图片下载且转换为本地。


## 改变图片大小
注意：这并不是markdown通用方法，而是obsidian特有的。

你可以在图片名称里输入`|像素数字`改变图片大小，单独输入的数字默认是「宽度的像素值」。

如，以下例子的意思为：保持宽高比，更改图片宽度为200像素。

- `![[我是图片.jpg|200]]`。
- `![|200](https://s2.loli.net/2022/03/03/DiCYbJh74qG9Oxo.png)`

如果想更改高度或宽高比，则数字格式为：100x100（前宽度；后高度）



## 其他相关插件推荐

### Image Toolkit
仓库地址：https://github.com/sissilab/obsidian-image-toolkit

markdown里的图片浏览体验非常简陋，只能放大查看。这个插件提供了一系列查看图片时可以按比例缩放、旋转、全屏、复制图片 等功能（注意：是「查看图片」，这代表图片视角暂时改变，不代表图片本身被编辑了）

![效果](https://s2.loli.net/2022/03/21/JyZipEf5YTorlgq.gif)

### Media Extended
上文提到了 `!` 可以渲染page、图片、pdf链接，但是这也就是obsidian自带支持的唯三渲染了，没有想到吧！

好吧，反正这个插件可以拓展可渲染媒体，包括音频、视频等，而且额外提供提供倍速播放等功能。

效果：https://user-images.githubusercontent.com/31102694/118903678-dd82fe00-b94a-11eb-8ef3-7b5044a2bab8.mp4